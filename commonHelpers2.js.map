{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedback = document.querySelector('.feedback-form');\nconst email = feedback.elements.email;\nconst message = feedback.elements.message;\n\nconst updateParsedData = () => {\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify({\n      email: email.value.trim(),\n      message: message.value.trim(),\n    })\n  );\n};\n\nconst parsedData =\n  JSON.parse(localStorage.getItem('feedback-form-state')) || {};\nemail.value = parsedData.email || '';\nmessage.value = parsedData.message || '';\n\nfeedback.addEventListener('input', e => {\n  if (e.target === email || e.target === message) {\n    updateParsedData();\n  }\n});\n\nfeedback.addEventListener('submit', e => {\n  e.preventDefault();\n  \n  const trimmedEmail = email.value.trim();\n  const trimmedMessage = message.value.trim();\n\n  if (!trimmedEmail || !trimmedMessage) {\n    if (!trimmedEmail) {\n      email.setCustomValidity('E-mail is required to proceed');\n    }\n    if (!trimmedMessage) {\n      message.setCustomValidity('Message is required to proceed');\n    }\n    return;\n  }\n\n  console.log({ email: trimmedEmail, message: trimmedMessage });\n  localStorage.removeItem('feedback-form-state');\n  feedback.reset();\n});\n\nwindow.addEventListener(\n  'load',\n  () => {\n    document.body.classList.add('visible');\n  },\n  { once: true }\n);\n"],"names":["feedback","email","message","updateParsedData","parsedData","e","trimmedEmail","trimmedMessage"],"mappings":"wFAAA,MAAMA,EAAW,SAAS,cAAc,gBAAgB,EAClDC,EAAQD,EAAS,SAAS,MAC1BE,EAAUF,EAAS,SAAS,QAE5BG,EAAmB,IAAM,CAC7B,aAAa,QACX,sBACA,KAAK,UAAU,CACb,MAAOF,EAAM,MAAM,KAAM,EACzB,QAASC,EAAQ,MAAM,KAAM,CACnC,CAAK,CACL,CACA,EAEME,EACJ,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,GAAK,GAC7DH,EAAM,MAAQG,EAAW,OAAS,GAClCF,EAAQ,MAAQE,EAAW,SAAW,GAEtCJ,EAAS,iBAAiB,QAASK,GAAK,EAClCA,EAAE,SAAWJ,GAASI,EAAE,SAAWH,IACrCC,GAEJ,CAAC,EAEDH,EAAS,iBAAiB,SAAUK,GAAK,CACvCA,EAAE,eAAc,EAEhB,MAAMC,EAAeL,EAAM,MAAM,KAAI,EAC/BM,EAAiBL,EAAQ,MAAM,KAAI,EAEzC,GAAI,CAACI,GAAgB,CAACC,EAAgB,CAC/BD,GACHL,EAAM,kBAAkB,+BAA+B,EAEpDM,GACHL,EAAQ,kBAAkB,gCAAgC,EAE5D,MACD,CAED,QAAQ,IAAI,CAAE,MAAOI,EAAc,QAASC,CAAc,CAAE,EAC5D,aAAa,WAAW,qBAAqB,EAC7CP,EAAS,MAAK,CAChB,CAAC,EAED,OAAO,iBACL,OACA,IAAM,CACJ,SAAS,KAAK,UAAU,IAAI,SAAS,CACtC,EACD,CAAE,KAAM,EAAM,CAChB"}